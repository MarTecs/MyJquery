<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
	body, html{width: 100%;height: 100%;margin:0;font-family:"微软雅黑";}
		#allmap{height:500px;width:100%;}
	#Layer3{width:100%; font-size:14px;}
	#r-result{width:100%; font-size:14px;}
	</style>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=V8MZSytcSdCRXg7k7fkGV7Q0DgGWzkxL"></script>
	<title>地图展示</title>
</head>
<body>
	<div id="allmap"></div>
    <div id="r-result">
		城市名: <input id="cityName" type="text" style="width:100px; margin-right:10px;" />
		<input type="button" value="查询" onClick="Location()" />
	</div>
    <div id="Layer3">
	    <form name="form1" method="get" action="">
	      <label>选择城市
            <select onChange="isSelected(this.value);" id="city">
	          <option value="北京">B北京</option>
	          <option value="上海">S上海</option>
	          <option value="广州">G广州</option>
              <option value="深圳">S深圳</option>
              <option value="长沙">C长沙</option>
              <option value="澳门">A澳门</option>
            </select>
          </label>
        </form>
</div>
<div id="r-result">
	    <input type="button" value="查询" onClick="theLocation()" />
	</div>
    <script language="JavaScript" for="window" event="onload">
	var xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
	xmlDoc.async="false";
	xmlDoc.load("city.xml");
	nodes = xmlDoc.documentElement.childNodes;
	cityname.innerText = nodes.item(0).text;
	longitude.innerText = nodes.item(1).text;
	latitude.innerText = nodes.item(2).text;
</script>
<title>在HTML中调用XML数据</title>
</head>

<body bgcolor="#FFFFFF">
	显示某个城市的信息：<p>
	<b>城市：</b>
	<span id="cityname"> </span> <p>
	<b>经度：</b>
	<span id="longitude"></span> <p>
	<b>纬度：</b>
	<span id="latitude"></span> <p>
</body>
</html>
<script type="text/javascript">
	// 百度地图API功能
	var map = new BMap.Map("allmap");    // 创建Map实例
	var point = new BMap.Point(116.331398,39.897445);
	map.centerAndZoom(new BMap.Point(116.404, 39.915), 11);  // 初始化地图,设置中心点坐标和地图级别
	//添加地图类型控件
	map.addControl(new BMap.MapTypeControl({
		mapTypes:[
            BMAP_NORMAL_MAP,
            BMAP_HYBRID_MAP
        ]}));	  
	map.setCurrentCity("北京");          // 设置地图显示的城市
	map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
	
	function theLocation(){
		var city = document.getElementById("city").value;
		if(city != ""){
			map.centerAndZoom(city,11);      // 用城市名设置地图中心点
		}
	}
	
	
	function Location(){
		var city = document.getElementById("cityName").value;
		if(city != ""){
			map.centerAndZoom(city,17);      // 用城市名设置地图中心点
			
		}
	}
	/*
	var map = new BMap.Map("allmap");  
	map.centerAndZoom(new BMap.Point(116.4035,39.915),8); 
	setTimeout(function(){
		map.setZoom(14);   
	}, 2000);  //2秒后放大到14级
	map.enableScrollWheelZoom(true);

	*/
</script>


